(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{46:function(e,t,a){},53:function(e,t,a){e.exports=a(88)},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(24),c=a.n(s),o=(a(58),a(59),a(5)),l=a(6),u=a(8),i=a(7),h=a(9),m=(a(60),a(19)),p=(a(61),a(13)),d=a(92),g=a(10),f=a.n(g),b=function(e,t){return f.a.post("/api/auth/signup",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},k=function(e,t,a){return f.a.post("/api/auth/signup/".concat(a),{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},E=function(e,t){return f.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},v=function(e){return r.a.createElement(d.a,{className:"navbar-container",bg:"basic"},e.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.b,{to:"/"},"Welcome ",e.user.username),r.a.createElement(p.b,{to:"/",onClick:function(){console.log("click"),f.a.delete("/api/auth/logout"),e.clearUser(null)}},"Logout"),r.a.createElement(p.b,{to:"/settings"},r.a.createElement("img",{className:"settings-img",src:"/images/settings.jpg",alt:""}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.b,{to:"/signup"},"Signup"),r.a.createElement(p.b,{to:"/login"},"Login")))},y=a(17),O=a(91),C=a(93),w=a(90),j=(a(46),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:""},a.handleChange=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),b(a.state.username,a.state.password).then((function(e){e.message?a.setState({error:e.message}):(a.props.setUser(e),a.props.history.push("/create-flat"))}))},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Sign up"),r.a.createElement(O.a,{onSubmit:this.handleSubmit},r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,{htmlFor:"username"},"Username: "),r.a.createElement(O.a.Control,{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,{htmlFor:"password"},"Password: "),r.a.createElement(O.a.Control,{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})),this.state.error&&r.a.createElement(C.a,{variant:"danger"},this.state.error),r.a.createElement(w.a,{className:"signup-button",type:"submit"},"Sign up")))}}]),t}(n.Component)),T=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",flatId:a.props.match.params.flatId,error:""},a.handleChange=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),k(a.state.username,a.state.password,a.state.flatId).then((function(e){e.message?a.setState({error:e.message}):(console.log(e),a.props.setUser(e),a.props.history.push("/dashboard"))}))},a.componentDidMount=function(){console.log("Hallooooo"),console.log(a.props.match.params.flatId)},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Signup"),r.a.createElement(O.a,{onSubmit:this.handleSubmit},r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,{htmlFor:"username"},"Username: "),r.a.createElement(O.a.Control,{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,{htmlFor:"password"},"Password: "),r.a.createElement(O.a.Control,{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})),this.state.error&&r.a.createElement(C.a,{variant:"danger"},this.state.error),r.a.createElement(w.a,{className:"signup-button",type:"submit"},"Sign up")))}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:""},a.handleChange=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),E(a.state.username,a.state.password).then((function(e){e.message?a.setState({error:e.message}):(a.props.setUser(e),a.props.history.push("/dashboard"))}))},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Log in"),r.a.createElement(O.a,{onSubmit:this.handleSubmit},r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,{htmlFor:"username"},"Username: "),r.a.createElement(O.a.Control,{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,{htmlFor:"password"},"Password: "),r.a.createElement(O.a.Control,{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})),this.state.error&&r.a.createElement(C.a,{variant:"danger"},this.state.error),r.a.createElement(w.a,{type:"submit"},"Log in")))}}]),t}(n.Component),x=(a(86),function(e){return r.a.createElement("input",Object.assign({type:"checkbox"},e))}),W=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",weeklyTasks:[],user:[],checkedOne:!1,checkedTwo:!1,checkedThree:!1,checkedFour:!1},a.handleCheckboxOneChange=function(e){console.log("here you have multiple things checked",e),a.setState({checkedOne:!a.state.checkedOne,weeklyTasks:a.state.weeklyTasks.concat(e)})},a.handleCheckboxTwoChange=function(e){console.log("here you have multiple things checked",e),a.setState({checkedTwo:!a.state.checkedTwo,weeklyTasks:a.state.weeklyTasks.concat(e)})},a.handleCheckboxThreeChange=function(e){console.log("here you have multiple things checked",e),a.setState({checkedThree:!a.state.checkedThree,weeklyTasks:a.state.weeklyTasks.concat(e)})},a.handleCheckboxFourChange=function(e){console.log("here you have multiple things checked",e),a.setState({checkedFour:!a.state.checkedFour,weeklyTasks:a.state.weeklyTasks.concat(e)})},a.handleChange=function(e){console.log(e.target.name,e.target.value),a.setState(Object(y.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),console.log("FLATFORM IS SUBMITED. B A N A N A S"),f.a.post("/api/create-flat",{name:a.state.name,weeklyTasks:a.state.weeklyTasks,user:a.props.user}).then((function(e){console.log("SHOW ME UPDATED DATAAAA",e),a.props.history.push("/invite/".concat(e.data._id))})).catch((function(e){console.log(e)}))},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h2",null,"Tell us about your flat "),r.a.createElement(O.a,{onSubmit:this.handleSubmit},r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Name your apartment:"),r.a.createElement(O.a.Control,{type:"text",name:"name",value:this.state.name,onChange:this.handleChange})),r.a.createElement("h2",null,"Choose your weekly tasks:"),r.a.createElement("label",null,r.a.createElement(x,{checked:this.state.checkedOne,onChange:function(){return e.handleCheckboxOneChange("Clean the kitchen")}}),r.a.createElement("span",null,"Clean the kitchen")),r.a.createElement("label",null,r.a.createElement(x,{checked:this.state.checkedTwo,onChange:function(){return e.handleCheckboxTwoChange("Clean the bathroom")}}),r.a.createElement("span",null,"Clean the bathroom")),r.a.createElement("label",null,r.a.createElement(x,{checked:this.state.checkedThree,onChange:function(){return e.handleCheckboxThreeChange("Buy toiletries")}}),r.a.createElement("span",null,"Buy toiletries")),r.a.createElement("label",null,r.a.createElement(x,{checked:this.state.checkedFour,onChange:function(){return e.handleCheckboxFourChange("Take out the garbage")}}),r.a.createElement("span",null,"Take out the garbage")),r.a.createElement(w.a,{className:"button",type:"submit"},"Create your flat!")))}}]),t}(n.Component),D=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={textToCopy:"",message:""},a.invite=function(){navigator.clipboard.writeText(a.state.textToCopy),a.setState({message:"Your link has been added to the clipboad"}),a.timeOut()},a.timeOut=function(){setTimeout((function(){a.setState({message:""})}),3e3)},a.componentDidMount=function(){a.setState({textToCopy:"http://localhost:3000/signup/".concat(a.props.match.params.id)})},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Your flat has been successfully created. You can invite your flatmates by sharing this link with them.",r.a.createElement("button",{onClick:this.invite,style:{cursor:"pointer"}},"Share with your Flatmates"),r.a.createElement("p",{style:{textAlign:"center"}},this.state.message),r.a.createElement(p.b,{to:"/dashboard"},"GO to your DASHBOARD"))}}]),t}(n.Component),A=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"This is the user page!"))}}]),t}(n.Component),Y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={currentWeek:"",currentYear:"",weekRange:""},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log(this.props.currentInfo),r.a.createElement(d.a,{className:"nav",bg:"basic"},this.props.user?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{onClick:this.props.previousWeek},"Last week"),r.a.createElement("h1",{onClick:this.props.getData},"This week ",this.props.currentInfo.currentWeek),r.a.createElement("h2",{onClick:this.props.nextWeek},"Next Week")):r.a.createElement(r.a.Fragment,null),this.state.currentWeek,r.a.createElement("h3",null,this.props.currentInfo.currentYear),r.a.createElement("br",null),r.a.createElement("div",null,this.props.currentInfo.weekRange),r.a.createElement("h1",null,"Ma flat"),r.a.createElement("div",null,this.props.flatInfo.name))}}]),t}(n.Component),F=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={unassigned:!0},a.handleClick=function(){f.a.get("/api/dashboard/".concat(a.props.id)).then((function(e){console.log("this is the Axios response: ",e),a.props.getData()}))},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("h5",{onClick:this.handleClick},this.props.name)}}]),t}(r.a.Component),N=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={name:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(y.a)({},n,r),(function(){return console.log(a.state.name)}))},a.handleSubmit=function(e){e.preventDefault();var t=a.state.name;f.a.post("/api/dashboard",{name:t}).then((function(e){console.log("NEW TASK:",e.data),a.props.getData()})).catch((function(e){console.log(e)}))},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"name"},"Add a task"),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),r.a.createElement("button",{type:"submit"},"Submit the task")))}}]),t}(n.Component),I=function(e){return r.a.createElement("div",{style:{padding:"20px",backgroundColor:"red"}},r.a.createElement("h1",null,"Here are the unassigned Tasks"),e.tasks.map((function(t){return r.a.createElement(F,{key:t._id,task:t,name:t.name,id:t._id,getData:e.getData})})),r.a.createElement(N,{getData:e.getData}))},U=function(e){var t=function(t){f.a.put("/api/dashboard/remove/".concat(t)).then((function(t){console.log("this is the Axios response: ",t),e.getData()}))},a=e.flatmate.map((function(a){var n=e.tasks.filter((function(e){return e.user.username===a.username})).map((function(a){return r.a.createElement(r.a.Fragment,null,a.finished?r.a.createElement("li",{style:{textDecoration:"line-through"},onClick:function(){return t(a._id)}},a.name):r.a.createElement("li",{onClick:function(){return t(a._id)}},a.name),r.a.createElement("button",{onClick:function(){return t=a._id,void f.a.put("/api/dashboard/check/".concat(t)).then((function(t){console.log("this is the Axios response: ",t),e.getData()}));var t}},"CHeck"))}));return r.a.createElement("div",null,r.a.createElement("h3",null," ",a.username," "),r.a.createElement("ul",null,n))}));return r.a.createElement("div",null,r.a.createElement("h1",null,"Here are the flatmates"),a)},L=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={user:a.props.user,allTasks:[],flatInfo:{},currentWeek:null,currentYear:null,weekRange:null,flatmates:[],thisWeekTask:[],startWeek:null,startYear:null},a.getData=function(){f.a.get("/api/dashboard").then((function(e){var t=e.data.tasks[0].week.week,n=e.data.tasks[0].week.year,r=e.data.tasks[0].week.weekRange;a.setState({allTasks:e.data.tasks,flatInfo:e.data.flat,flatmates:e.data.flat.user,currentWeek:t,startWeek:t,startYear:n,currentYear:n,weekRange:r},(function(){return console.log("Das beautiful state",a.state)}))})).catch((function(e){console.log(e)}))},a.previousWeek=function(){var e=2019===a.state.currentYear||2020===a.state.currentYear||2022===a.state.currentYear;e&&1===a.state.currentWeek?f.a.get("/api/dashboard/".concat(52,"/",a.state.currentYear-1)).then((function(e){a.updateWeek(e)})):e||1!==a.state.currentWeek?f.a.get("/api/dashboard/".concat(a.state.currentWeek-1,"/").concat(a.state.currentYear)).then((function(e){console.log(e),a.updateWeek(e)})):f.a.get("/api/dashboard/".concat(53,"/",a.state.currentYear-1)).then((function(e){a.updateWeek(e)}))},a.updateWeek=function(e){var t=e.data.tasks[0].week.week,n=e.data.tasks[0].week.year,r=e.data.tasks[0].week.weekRange;a.setState({allTasks:e.data.tasks,currentWeek:t,currentYear:n,weekRange:r},(function(){a.state.currentWeek===a.state.startWeek&&a.state.currentYear===a.state.startYear&&a.getData()}))},a.nextWeek=function(){var e=2019===a.state.currentYear||2021===a.state.currentYear||2022===a.state.currentYear;52===a.state.currentWeek&&e?f.a.get("/api/dashboard/".concat(1,"/",a.state.currentYear+1)).then((function(e){console.log(e),a.updateWeek(e)})):53!==a.state.currentWeek||e?f.a.get("/api/dashboard/".concat(a.state.currentWeek+1,"/").concat(a.state.currentYear)).then((function(e){console.log(e),a.updateWeek(e)})):f.a.get("/api/dashboard/".concat(1,"/",a.state.currentYear+1)).then((function(e){console.log(e),a.updateWeek(e)}))},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.state.allTasks&&this.state.allTasks.filter((function(e){return null===e.user})),t=this.state.allTasks&&this.state.allTasks.filter((function(e){return null!==e.user}));return console.log(e,t),r.a.createElement("div",{className:"flat-container"},r.a.createElement(Y,{currentInfo:this.state,flatInfo:this.state.flatInfo,user:this.state.user,previousWeek:this.previousWeek,nextWeek:this.nextWeek,getData:this.getData}),r.a.createElement(U,{flatmate:this.state.flatmates,tasks:t,getData:this.getData}),r.a.createElement(I,{tasks:e,getData:this.getData}))}}]),t}(n.Component),G=(a(87),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"home-container"},r.a.createElement("div",{className:"teach-me-css-pls"},r.a.createElement("h1",null,"WG Your Way")),r.a.createElement("div",{className:"home-nav"},r.a.createElement("div",{className:"header-container"},r.a.createElement("h2",null,"We offer a great solution to managing your WG life!")),r.a.createElement("div",{className:"home-button"},r.a.createElement("div",{className:"home-button-container"},r.a.createElement("a",{className:"button-links",href:"/signup"},"Sign up!")," "),r.a.createElement("div",{className:"home-button-container"},r.a.createElement("a",{className:"button-links",href:"/login"},"Log in!")," "))))}}]),t}(n.Component)),R=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={flatId:"",textToCopy:"",message:""},a.invite=function(){navigator.clipboard.writeText(a.state.textToCopy),a.setState({message:"Your link has been added to the clipboad"}),a.timeOut()},a.timeOut=function(){setTimeout((function(){a.setState({message:""})}),1e3)},a.getData=function(){f.a.get("/api/settings").then((function(e){console.log("THIS",e.data[0]._id),a.setState({flatId:e.data[0]._id,textToCopy:"http://localhost:3000/signup/".concat(e.data[0]._id)})})).catch((function(e){console.log(e)}))},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log("MOUNTED"),this.getData()}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",null,"You can invite your flatmates by sharing this link with them.",r.a.createElement("button",{onClick:this.invite,style:{cursor:"pointer"}},"Share with your Flatmates"),r.a.createElement("p",{style:{textAlign:"center"}},this.state.message),r.a.createElement(p.b,{to:"/dashboard"},"BACK to your DASHBOARD"))}}]),t}(n.Component),B=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={user:a.props.user},a.setUser=function(e){a.setState({user:e})},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:G}),r.a.createElement(m.a,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(j,Object.assign({},t,{setUser:e.setUser}))}}),r.a.createElement(m.a,{exact:!0,path:"/signup/:flatId",render:function(t){return r.a.createElement(T,Object.assign({},t,{setUser:e.setUser}))}}),r.a.createElement(m.a,{exact:!0,path:"/login",render:function(t){return r.a.createElement(S,Object.assign({},t,{setUser:e.setUser}))}}),r.a.createElement(m.a,{exact:!0,path:"/create-flat",render:function(t){return r.a.createElement(W,Object.assign({},t,{user:e.state.user}))}}),r.a.createElement(m.a,{exact:!0,path:"/invite/:id",render:function(t){return r.a.createElement(D,Object.assign({},t,{user:e.state.user}))}}),r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{user:this.state.user,clearUser:this.setUser}),r.a.createElement(m.a,{exact:!0,path:"/dashboard",render:function(t){return r.a.createElement(L,Object.assign({},t,{user:e.state.user}))}}),r.a.createElement(m.a,{exact:!0,path:"/settings",render:function(t){return r.a.createElement(R,Object.assign({},t,{user:e.state.user}))}}),r.a.createElement(m.a,{exact:!0,path:"/profile",render:function(t){return r.a.createElement(A,Object.assign({},t,{user:e.state.user}))}}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));f.a.get("/api/auth/loggedin").then((function(e){var t=e.data;console.log(e.data),c.a.render(r.a.createElement(p.a,null,r.a.createElement(B,{user:t})),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[53,1,2]]]);
//# sourceMappingURL=main.b751cf73.chunk.js.map